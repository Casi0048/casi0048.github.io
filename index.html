<head>
  <meta charset="utf-8">
  <title>Echi di Sofia ‚Äî Portale di Filosofia</title>

  <!-- ESSENZIALI PER SEO E MOBILE -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Esplora il pensiero filosofico attraverso i secoli. Autori, correnti, timeline interattiva e risorse per approfondire.">
  <meta name="keywords" content="filosofia, storia della filosofia, socrate, platone, aristotele, kant, nietzsche, pensiero filosofico">
  <meta name="author" content="Echi di Sofia">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://casi0048.github.io/">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://casi0048.github.io/">
  <meta property="og:title" content="Echi di Sofia - Portale Completo di Filosofia">
  <meta property="og:description" content="Esplora il pensiero filosofico attraverso i secoli. Autori, correnti, timeline interattiva e risorse per approfondire.">
  <meta property="og:image" content="https://casi0048.github.io/immagini%20per%20sito/Socrates_Louvre.jpg">
  <meta property="og:site_name" content="Echi di Sofia">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Echi di Sofia - Portale di Filosofia">
  <meta name="twitter:description" content="Scopri la filosofia attraverso autori, correnti e pensieri. Risorse gratuite per appassionati.">
  <meta name="twitter:image" content="https://casi0048.github.io/immagini%20per%20sito/Socrates_Louvre.jpg">
  
 <!-- Favicons & manifest -->
  <link rel="icon" type="image/svg+xml" href="/favicon_io/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
  <link rel="apple-touch-icon" href="/favicon_io/apple-touch-icon.png">
  <link rel="manifest" href="/favicon_io/site.webmanifest">
  <meta name="theme-color" content="#0b0f19">
  <!-- ===== PRECONNECT utili ===== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">

  <!-- ===== PRELOAD OK (immagine) ===== -->
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/Casi0048/casi0048.github.io/main/immagini%20per%20sito/Socrates_Louvre.jpg">

  <!-- ===== GOOGLE FONTS (niente preload del CSS) ===== -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&family=UnifrakturMaguntia&family=Cormorant+Garamond:wght@400;600&display=swap">

  <!-- ===== FONT AWESOME (un solo stylesheet) ===== -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous">
<link rel="canonical" href="https://www.echidisofia.org/">

  <!-- Schema.org -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Echi di Sofia",
      "description": "Portale completo di filosofia antica, moderna e contemporanea",
      "url": "https://casi0048.github.io/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://casi0048.github.io/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>
  <style>
        :root {
            --primary-color: #8a6d3b;
            --secondary-color: #b08d57;
            --dark-bg: #121212;
            --darker-bg: #0a0a0a;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --text-muted: #9e9e9e;
            --border-color: #333;
            --hover-color: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-color);
            line-height: 1.6;
        }

        a {
            text-decoration: none;
            color: var(--secondary-color);
            transition: color 0.3s;
        }

        a:hover {
            color: var(--primary-color);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: var(--darker-bg);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .search-translate {
            display: flex;
            gap: 15px;
        }

    /* ===== SEARCH SYSTEM ===== */

/* Search Box Container */
.search-box {
  position: relative;
  display: flex;
  align-items: center;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 5px;
  transition: all 0.3s ease;
  min-width: 280px;
}

.search-box:focus-within {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(138, 109, 59, 0.2);
}

/* Search Input */
.search-box input {
  flex: 1;
  background: none;
  border: none;
  padding: 8px 12px;
  color: var(--text-color);
  font-size: 0.95rem;
  outline: none;
}

.search-box input::placeholder {
  color: var(--text-muted);
}

/* Search Controls Container */
.search-controls {
  display: flex;
  align-items: center;
  gap: 5px;
}

/* Clear Input Button */
.clear-input-btn {
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 6px;
  border-radius: 50%;
  transition: all 0.3s ease;
  opacity: 0.7;
  display: none; /* Nascosto di default */
  align-items: center;
  justify-content: center;
}

.clear-input-btn:hover {
  color: #ff6b6b;
  background: rgba(255, 107, 107, 0.1);
  opacity: 1;
  transform: scale(1.1);
}

.clear-input-btn i {
  font-size: 1rem;
}

/* Search Button */
#siteSearchBtn {
  background: var(--primary-color);
  border: none;
  color: white;
  cursor: pointer;
  padding: 8px 12px;
  border-radius: 6px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

#siteSearchBtn:hover {
  background: var(--secondary-color);
  transform: translateY(-1px);
}

#siteSearchBtn:active {
  transform: translateY(0);
}

/* Search Results Panel */
.search-panel {
  position: fixed;
  left: 50%;
  top: 12vh;
  transform: translateX(-50%);
  width: min(900px, 92vw);
  max-height: 75vh;
  overflow: auto;
  background: rgba(10, 10, 30, 0.98);
  border: 1px solid rgba(255, 215, 0, 0.3);
  border-radius: 12px;
  padding: 0;
  z-index: 2147483601;
  display: none;
  backdrop-filter: blur(12px);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 215, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Search Panel Header */
.search-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0;
  padding: 15px 20px;
  border-bottom: 1px solid rgba(255, 215, 0, 0.2);
  background: rgba(255, 215, 0, 0.05);
  border-radius: 12px 12px 0 0;
}

.search-header h3 {
  color: #ffd700;
  margin: 0;
  font-size: 1.3rem;
  font-family: 'Cinzel', serif;
  font-weight: 600;
}

/* Clear Search Button in Panel */
.search-clear-btn {
  background: linear-gradient(135deg, rgba(255, 107, 107, 0.9), rgba(255, 107, 107, 0.7));
  border: none;
  color: white;
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.95rem;
  font-weight: 600;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
}

.search-clear-btn:hover {
  background: linear-gradient(135deg, rgba(255, 107, 107, 1), rgba(255, 107, 107, 0.8));
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(255, 107, 107, 0.4);
}

.search-clear-btn:active {
  transform: translateY(0);
}

/* Search Results Content */
.search-results {
  padding: 20px;
  max-height: calc(75vh - 80px);
  overflow-y: auto;
}

/* Individual Search Result */
.search-results .result {
  padding: 0.6rem 0.4rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  transition: background-color 0.3s ease;
}

.search-results .result:hover {
  background: rgba(255, 215, 0, 0.05);
}

.search-results .result:last-child {
  border-bottom: 0;
}

.search-results .result h4 {
  margin: 0.1rem 0;
  color: #ffeb9a;
  font-size: 1rem;
}

.search-results .result .result-desc {
  color: #cfe2ff;
  font-size: 0.9rem;
  margin: 0.3rem 0;
}

.search-results .tag {
  display: inline-block;
  margin: 0.15rem 0.25rem 0.15rem 0;
  padding: 0.05rem 0.45rem;
  border-radius: 999px;
  background: linear-gradient(90deg, #ffd86a, #ffeb9a);
  color: #0b1022;
  font-weight: 600;
  font-size: 0.78rem;
}

/* Search Highlight */
mark.search-hit {
  background: rgba(255, 215, 0, 0.35);
  padding: 0 0.15em;
  border-radius: 0.2em;
  color: inherit;
}

/* ===== MENU CONTAINER ===== */
.menu-container {
  position: fixed;
  top: 4.5rem;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  z-index: 1900;
  padding: 0.5rem 0;
  background: rgba(10, 10, 30, 0.9);
  backdrop-filter: blur(0.5rem);
  border-bottom: 1px solid rgba(255, 215, 0, 0.1);
  transition: transform 0.3s ease;
}

.menu-container.hidden {
  transform: translateY(-100%);
}

/* Resto del tuo CSS esistente per il menu... */

        /* Menu Container */
         .menu-container {
      position: fixed;
      top: 4.5rem;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      z-index: 1900;
      padding: 0.5rem 0;
      background: rgba(10,10,30,0.9);
      backdrop-filter: blur(0.5rem);
      border-bottom: 1px solid rgba(255,215,0,0.1);
      transition: transform 0.3s ease;
      }
      .menu-container.hidden {
      transform: translateY(-100%);
      }
      nav.menu-desktop ul {
      display: flex;
      gap: 1px;
      list-style: none;
      margin: 0;
      padding: 0;
      justify-content: center;
      white-space: nowrap;
      }
      nav.menu-desktop li {
      position: relative;
      }
      .menu-btn, nav.menu-desktop li>a {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      gap: 1px;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text-accent);
      font-family: 'Cormorant Garamond', serif;
      font-weight: 700;
      font-size: 1.2rem;
      padding: .45rem .7rem;
      border-radius: 0.38rem;
      transition: .25s;
      text-decoration: none;
      text-shadow: 0 0 0.38rem #33ccff99;
      }
      .menu-btn:hover, nav.menu-desktop li>a:hover {
      color: #fff;
      }
      .arrow {
      font-size: .75rem;
      }
      /* Mega Menu */
.mega-menu {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-10px) scale(0.95);
  width: 61.25rem;
  max-width: 94vw;
  background: linear-gradient(135deg, 
    rgba(10, 10, 30, 0.96) 0%,
    rgba(20, 20, 50, 0.94) 100%);
  border: 1px solid rgba(255, 215, 0, 0.3);
  border-top: 2px solid var(--primary-color);
  border-radius: 0 0 12px 12px;
  padding: 0.75rem;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.75rem;
  box-shadow: 
    0 25px 50px -12px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 215, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px) saturate(180%);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  z-index: 950;
}

li.dropdown:hover > .mega-menu,
li.dropdown:focus-within > .mega-menu,
.mega-menu:hover {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0) scale(1);
}

.mega-menu h4 {
  margin: 0.1rem 0 0.3rem;
  font-size: 1rem;
  color:aquamarine;    #ffd700;
  font-family: 'Cinzel', serif;
  font-weight: 600;
  position: relative;
  padding: 0.3rem 0;
  border-bottom: 1px solid rgba(255, 215, 0, 0.3);
  letter-spacing: 0.3px;
}

.mega-menu h4::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, #ffd700, transparent);
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

li.dropdown:hover .mega-menu h4::after {
  width: 100%;
}

.mega-menu > div {
  opacity: 0;
  transform: translateY(12px) scale(0.98);
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
}

.mega-menu > div:nth-child(1) { transition-delay: 0.03s; }
.mega-menu > div:nth-child(2) { transition-delay: 0.06s; }
.mega-menu > div:nth-child(3) { transition-delay: 0.09s; }
.mega-menu > div:nth-child(4) { transition-delay: 0.12s; }

li.dropdown:hover .mega-menu > div,
li.dropdown:focus-within .mega-menu > div {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Separatori eleganti tra colonne */
.mega-menu > div:not(:last-child)::after {
  content: '';
  position: absolute;
  top: 15%;
  right: -0.4rem;
  height: 70%;
  width: 1px;
  background: linear-gradient(to bottom, 
    transparent, 
    rgba(255, 215, 0, 0.2), 
    transparent);
}

.mega-menu a {
  display: flex;
  align-items: center;
  color:burlywood;     #e0e0e0;
  font-weight: 600;
  font-size: 0.85rem;
  padding: 0.2rem 0.4rem;
  position: relative;
  left: 0;
  opacity: 1;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 3px;
  margin: 0.05rem 0;
  border: 1px solid transparent;
  line-height: 1.2;
}

.mega-menu a::before {
  content: '‚Ä∫';
  margin-right: 0.3rem;
  color: rgba(255, 215, 0, 0.6);
  font-size: 0.8rem;
  transition: all 0.3s ease;
}

li.dropdown:hover .mega-menu a,
li.dropdown:focus-within .mega-menu a {
  left: 0;
  opacity: 1;
}

.mega-menu a:hover {
  color: #ffffff;
  transform: translateX(3px);
  background: linear-gradient(135deg, 
    rgba(255, 215, 0, 0.15) 0%,
    rgba(255, 215, 0, 0.08) 100%);
  border: 1px solid rgba(255, 215, 0, 0.2);
  box-shadow: 
    0 2px 6px rgba(255, 215, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  padding-left: 0.6rem;
  text-shadow: 0 0 4px rgba(255, 215, 0, 0.3);
}

.mega-menu a:hover::before {
  color: #ffd700;
  transform: translateX(1px) scale(1.1);
}

/* Correzione specifica per Filosofia polacca - VERSIONE CORRETTA */
nav.menu-desktop > ul > li.dropdown:nth-last-child(3) > .mega-menu {
  left: auto !important;
  right: 0 !important;
  transform: translateX(0) translateY(-10px) scale(0.95) !important;
}

nav.menu-desktop > ul > li.dropdown:nth-last-child(3):hover > .mega-menu,
nav.menu-desktop > ul > li.dropdown:nth-last-child(3):focus-within > .mega-menu {
  transform: translateX(0) translateY(0) scale(1) !important;
  left: auto !important;
  right: 0 !important;
}
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1589994965851-a8f479c573a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            padding: 50px 0;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--text-muted);
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border-radius: 4px;
            font-weight: 600;
            transition: background-color 0.3s;
            position: relative;
            z-index: 2;
        }

        .btn:hover {
            background-color: var(--secondary-color);
            color: white;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            color: var(--primary-color);
        }

        /* Articles Grid */
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .article-card {
            background-color: var(--card-bg);
            border-radius: 4px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .article-img {
            height: 180px;
            background-color: var(--border-color);
            background-size: cover;
            background-position: center;
        }

        .article-content {
            padding: 20px;
        }

        .article-content h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .article-content p {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Sidebar */
        .sidebar-widget {
            background-color: var(--card-bg);
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .sidebar-widget h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .recent-articles li {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .recent-articles li:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .quote-widget {
            border-left: 3px solid var(--primary-color);
            padding-left: 15px;
            font-style: italic;
        }

        .quote-author {
            margin-top: 10px;
            text-align: right;
            font-weight: 600;
        }

        /* Footer */
        footer {
            background-color: var(--darker-bg);
            padding: 50px 0 20px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h4 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: var(--card-bg);
            border-radius: 50%;
            transition: background-color 0.3s;
        }

        .social-links a:hover {
            background-color: var(--primary-color);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .mega-menu {
                width: 800px;
            }
        }

        @media (max-width: 992px) {
            .mega-menu {
                width: 700px;
            }
            
            .columns-4 {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-box input {
                width: 200px;
            }
            
            .mega-menu {
                width: 500px;
                left: 50%;
                transform: translateX(-50%) translateY(10px);
            }
            
            .anchor-right {
                left: 50%;
                right: auto;
                transform: translateX(-50%) translateY(10px);
            }
            
            .dropdown:hover .mega-menu {
                transform: translateX(-50%) translateY(0);
            }
            
            .columns-4 {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .articles-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .menu-desktop ul {
                flex-direction: column;
                gap: 0;
            }
            
            .mega-menu {
                width: 300px;
                position: static;
                display: none;
                transform: none;
            }
            
            .dropdown:hover .mega-menu {
                display: block;
                transform: none;
            }
            
            .columns-4 {
                grid-template-columns: 1fr;
            }
        }
        .menu-desktop > ul > li.dropdown:nth-child(2):hover > .mega-menu,
      .menu-desktop > ul > li.dropdown:nth-child(2):focus-within > .mega-menu {
      transform: translateX(0) translateY(0) !important;
      }
           /* Pannello risultati ricerca */
      #search-panel { font-family: 'Montserrat', sans-serif; }
      mark.search-hit {
      background: rgba(255,215,0,0.35);
      padding: 0 .15em;
      border-radius: .2em;
      }
      
      /* === v6: Varianti posizionamento mega-menu per singole voci === */
      /* Default: resta centrato (stili gi√† presenti) */
      nav.menu-desktop .mega-menu.anchor-left {
      left: 0 !important;
      right: auto !important;
      transform: translateY(0.62rem) !important;
      }
      nav.menu-desktop li.dropdown:hover > .mega-menu.anchor-left,
      nav.menu-desktop li.dropdown:focus-within > .mega-menu.anchor-left,
      nav.menu-desktop .mega-menu.anchor-left:hover {
      transform: translateY(0) !important;
      }
      nav.menu-desktop .mega-menu.right-align {
      left: auto !important;
      right: 0 !important;
      transform: translateY(0.62rem) !important;
      }
      nav.menu-desktop li.dropdown:hover > .mega-menu.right-align,
      nav.menu-desktop li.dropdown:focus-within > .mega-menu.right-align,
      nav.menu-desktop .mega-menu.right-align:hover {
      transform: translateY(0) !important;
      }
      <!------------------------------------------>
     /* Correzione specifica per Filosofia polacca - ultimo elemento */
/* Correzione con classe specifica */
li.dropdown.filosofia-polacca > .mega-menu {
  left: auto !important;
  right: 0 !important;
  transform: translateX(0) translateY(0.62rem) !important;
}

li.dropdown.filosofia-polacca:hover > .mega-menu,
li.dropdown.filosofia-polacca:focus-within > .mega-menu {
  transform: translateX(0) translateY(0) !important;
  left: auto !important;
  right: 0 !important;
}

/*  AGGIUNTO Pannello risultati di ricerca */
.search-panel{
  position: fixed; left: 50%; top: 10vh; transform: translateX(-50%);
  width: min(900px, 92vw); max-height: 72vh; overflow: auto;
  background: rgba(10,10,30,.92); border: 1px solid rgba(255,215,0,.25);
  border-radius: 12px; padding: 14px;
  z-index: 2147483601;           /* MOLTO alto */
  display: none;                  /* parte nascosto */
  backdrop-filter: blur(8px);
}
.search-results .result{ padding:.6rem .4rem; border-bottom:1px solid rgba(255,255,255,.08); }
.search-results .result:last-child{ border-bottom: 0; }
.search-results .result h4{ margin:.1rem 0; color:#ffeb9a; font-size:1rem; }
.search-results .result .result-desc{ color:#cfe2ff; font-size:.9rem; }
.search-results .tag{ display:inline-block; margin:.15rem .25rem .15rem 0; padding:.05rem .45rem; border-radius:999px;
  background: linear-gradient(90deg,#ffd86a,#ffeb9a); color:#0b1022; font-weight:600; font-size:.78rem;}
/* Aggiungi al tuo CSS esistente */
.search-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(255, 215, 0, 0.3);
}

.search-header h3 {
  color: #ffd700;
  margin: 0;
  font-size: 1.2rem;
  font-family: 'Cinzel', serif;
}

.search-clear-btn {
  background: rgba(255, 215, 0, 0.1);
  border: 1px solid rgba(255, 215, 0, 0.3);
  color: #ffd700;
  padding: 8px 15px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 5px;
}

.search-clear-btn:hover {
  background: rgba(255, 215, 0, 0.2);
  border-color: rgba(255, 215, 0, 0.5);
  transform: translateY(-1px);
}

.search-clear-btn:active {
  transform: translateY(0);
}

    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
<i class="fas fa-balance-scale" style="color:#ffd700;"></i>                   
<h1>Echi di Sofia</h1>
                </div>
               <div class="search-box" id="siteSearch">
  <input id="siteSearchInput"
         type="search"
         placeholder="Cerca filosofi, concetti‚Ä¶"
         aria-label="Cerca nel sito">
  <div class="search-controls">
    <button id="searchClearInput" class="clear-input-btn" type="button" aria-label="Cancella testo" style="display: none;">
      <i class="fas fa-times-circle"></i>
    </button>
    <button id="siteSearchBtn" type="button" aria-label="Esegui ricerca">
      <i class="fas fa-search" aria-hidden="true"></i>
    </button>
  </div>
</div>
                    <div id="google_translate_element" style="display: none;"></div>
                    <div class="translate-box">
<span>üåê</span>
<select aria-label="Traduci pagina" class="translate-select" id="customTranslate">
<option value="it">Italiano</option>
<option value="en">English</option>
<option value="fr">Fran√ßais</option>
<option value="de">Deutsch</option>
<option value="es">Espa√±ol</option>
<option value="pl">Polski</option>
</select>
<div aria-hidden="true" id="google_translate_element" style="position:fixed;bottom:0;right:0;width:1px;height:1px;opacity:0;pointer-events:none;overflow:hidden"></div>
                </div>
            </div>
        </div>
        
        <!-- Menu Container -->
        <<div class="menu-container">
<nav class="menu-desktop" aria-label="Navigazione principale" role="navigation">
<ul role="menu">
<li class="dropdown">
<a class="menu-btn underline-effect" href="https://casi0048.github.io/pagine/benvenuti.html" role="menuitem"> üóùÔ∏è INCIPIT</a>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">
            üèõÔ∏è Filosofia antica <span class="arrow">‚ñº</span>
</button>
<div aria-label="Sottomenu Filosofia antica" class="mega-menu columns-4 anchor-left" role="menu">
<div>
<h4>Presocratici</h4>
<a href="Presocratici/talete.html" role="menuitem">Talete</a>
<a href="Presocratici/anassimandro.html" role="menuitem">Anassimandro</a>
<a href="Presocratici/anassimene.html" role="menuitem">Anassimene</a>
<a href="articoli/eraclito.html" role="menuitem">Eraclito</a>
</div>
<div>
<h4>Eleatismo</h4>
<a href="Presocratici/senofane.html" role="menuitem">Senofane</a>
<a href="Presocratici/parmenide.html" role="menuitem">Parmenide</a>
<a href="articoli/zenone.html" role="menuitem">Zenone</a>
<a href="articoli/melisso.html" role="menuitem">Melisso</a>
</div>
<div>
<h4>Sofisti</h4>
<a href="articoli/gorgia.html" role="menuitem">Gorgia</a>
<a href="articoli/ippia.html" role="menuitem">Ippia</a>
<a href="articoli/prodico.html" role="menuitem">Prodico</a>
</div>
<div>
<h4>Pitagorici</h4>
<a href="articoli/pitagora.html" role="menuitem">Pitagora</a>
<a href="articoli/filolao.html" role="menuitem">Filolao</a>
<a href="articoli/alcmeone.html" role="menuitem">Alcmeone</a>
<a href="articoli/archita.html" role="menuitem">Archita</a>
<a href="articoli/ippaso.html" role="menuitem">Ippaso</a>
</div>
<div>
<h4>Scuola cinica</h4>
<a href="articoli/antistene.html" role="menuitem">Antistene</a>
<a href="articoli/diogene.html" role="menuitem">Diogene di Sinope</a>
<a href="articoli/cratete.html" role="menuitem">Cratete di Tebe</a>
<a href="articoli/iparchia.html" role="menuitem">Ipparchia</a>
<a href="articoli/metrocle.html" role="menuitem">Metrocle di Maronea</a>
</div>
<div>
<h4>Scuola atomistica</h4>
<a href="articoli/leucippo.html" role="menuitem">Leucippo di Mileto</a>
<a href="articoli/democrito.html" role="menuitem">Democrito di Abdera</a>
<a href="articoli/scuola-vai%C5%9Be%E1%B9%A3ika.html" role="menuitem">Scuola Vai≈õe·π£ika</a>
</div>
<div>
<h4>Storiografia greca antica</h4>
<a href="articoli/erodoto.html" role="menuitem">Erodoto</a>
<a href="articoli/tucidide.html" role="menuitem">Tucidide </a>
<a href="articoli/senofonte.html" role="menuitem">Senofonte</a>
<a href="articoli/polibio.html" role="menuitem">Polibio</a>
</div>
<div>
<h4>üöÄApprofondimenti</h4>
<a href="https://www.worldhistory.org/trans/it/1-13310/democrazia-ateniese/" role="menuitem">Democrazia Ateniese</a>
<a href="https://www.worldhistory.org/trans/it/2-927/donne-nellantica-grecia/" role="menuitem">Donne nell'Antica Grecia</a>
<a href="https://www.worldhistory.org/trans/it/1-11373/magna-grecia/" role="menuitem">Magna Grecia</a>
<a href="https://www.worldhistory.org/trans/it/1-14956/il-teatro-dellantica-grecia/" role="menuitem">Il teatro dell'antica Grecia</a>
<a href="https://www.worldhistory.org/trans/it/1-10553/la-religione-nellantica-grecia/" role="menuitem">La religione nell'antica Grecia</a>
<a href="https://www.worldhistory.org/trans/it/1-19269/la-danza-nellantica-grecia/" role="menuitem">La danza nell'Antica Grecia</a>
</div>
</div>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">
            üìúFilosofia classica <span class="arrow">‚ñº</span>
</button>
<div aria-label="Sottomenu Filosofia classica" class="mega-menu columns-4" role="menu">
<div>
<h4>Socrate e Scuola</h4>
<a href="articoli/socrate.html" role="menuitem">Socrate</a>
<a href="articoli/senofonte.html" role="menuitem">Senofonte</a>
<a href="articoli/antistene.html" role="menuitem">Antistene</a>
<h4>Scetticismo</h4>
<a href="articoli/pirrone.html" role="menuitem">Pirrone di Elide </a>
<a href="articoli/timone.html" role="menuitem">Timone di Fliunte </a>
<a href="articoli/arcesilao.html" role="menuitem">Arcesilao di Pitane</a>
<a href="articoli/carneade.html" role="menuitem">Carneade di Cirene</a>
<a href="articoli/enesidemo.html" role="menuitem">Enesidemo di Cnosso</a>
<a href="articoli/agrippa.html" role="menuitem">Agrippa</a>
<a href="articoli/sesto.html" role="menuitem">Sesto Empirico</a>
</div>
<div>
<h4>Platone e Accademia</h4>
<a href="articoli/platone.html" role="menuitem">Platone</a>
<a href="articoli/aristippo.html" role="menuitem">Aristippo</a>
<a href="articoli/diotima.html" role="menuitem">Diotima</a>
</div>
<div>
<h4>Aristotele e Peripatetici</h4>
<a href="articoli/aristotele.html" role="menuitem">Aristotele</a>
<a href="articoli/teofrasto.html" role="menuitem">Teofrasto</a>
<a href="articoli/eudemo.html" role="menuitem">Eudemo di Rodi </a>
<a href="articoli/stratone.html" role="menuitem">Stratone di Lampsaco</a>
<a href="articoli/demetrio.html" role="menuitem">Demetrio Falereo</a>
<a href="articoli/andronico.html" role="menuitem">Andronico di Rodi</a>
<a href="articoli/alessandro-afrodisia.html" role="menuitem">Alessandro di Afrodisia </a>
</div>
<div>
<h4>Stoicismo</h4>
<a href="articoli/zenone.html" role="menuitem">Zenone di Cizio</a>
<a href="articoli/epitteto.html" role="menuitem">Epitteto</a>
<a href="articoli/seneca.html" role="menuitem">Seneca</a>
<a href="articoli/cleante.html" role="menuitem">Cleante di Asso </a>
<a href="articoli/crisippo.html" role="menuitem">Crisippo di Soli </a>
<a href="articoli/panezio.html" role="menuitem">Panezio di Rodi</a>
<a href="articoli/posidonio.html" role="menuitem">Posidonio di Apamea </a>
</div>
<div>
<h4>Epicureismo</h4>
<a href="articoli/epicuro.html" role="menuitem">Epicuro</a>
<a href="articoli/lucrezio.html" role="menuitem">Lucrezio</a>
<a href="articoli/cicerone.html" role="menuitem">Cicerone</a>
<a href="articoli/ermarco.html" role="menuitem">Ermarco di Mitilene</a>
<a href="articoli/colote.html" role="menuitem">Colote di Lampsaco</a>
<a href="articoli/zenone_di_sidone.html " role="menuitem">Zenone di Sidone </a>
</div>
<div>
<h4>Neoplatonismo</h4>
<a href="articoli/plotino.html" role="menuitem">Plotino</a>
<a href="articoli/giamblico.html" role="menuitem">Giamblico di Calcide </a>
<a href="articoli/proclo.html" role="menuitem">Proclo</a>
<a href="articoli/ipazia.html" role="menuitem">Ipatia di Alessandria</a>
<a href="articoli/simplicio.html" role="menuitem">Simplicio di Cilicia </a>
<a href="articoli/orfismo.html" role="menuitem">Orfismo</a>
<a href="articoli/eleusi.html" role="menuitem">Misteri Eleusini</a>
</div>
<div>
<h4>Drammaturgia greca antica</h4>
<a href="articoli/eschilo.html" role="menuitem">Eschilo</a>
<a href="articoli/sofocle.html" role="menuitem">Sofocle</a>
<a href="articoli/euripide.html" role="menuitem">Euripide</a>
</div>
<div>
<h4>Commedia greca antica</h4>
<a href="articoli/aristofane.html" role="menuitem">Aristofane</a>
<a href="articoli/menandro.html" role="menuitem">Menandro</a>
</div>
</div>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">‚õ™Filosofia medievale<span class="arrow">‚ñº</span></button>
<div aria-label="Sottomenu Filosofia medievale" class="mega-menu columns-4" role="menu">
<div>
<h4>Scolastica</h4>
<a href="articoli/eriugena.html" role="menuitem">Giovanni Scoto Eriugena</a>
<a href="articoli/anselmo.html" role="menuitem">Sant'Anselmo d'Aosta</a>
<a href="articoli/abelardo.html" role="menuitem">Pietro Abelardo</a>
<a href="articoli/alberto-m.html" role="menuitem">Alberto Magno</a>
<a href="articoli/tommaso%20d'aquino.html" role="menuitem">Tommaso d'Aquino</a>
<a href="articoli/bonaventura.html" role="menuitem">Bonaventura da Bagnoregio</a>
<a href="articoli/duns%20scoto.html" role="menuitem">Duns Scoto</a>
<a href="articoli/ockham.html" role="menuitem">Guglielmo di Ockham</a>
<a href="articoli/buridano.html" role="menuitem">Giovanni Buridano</a>
<a href="articoli/oresome.html" role="menuitem">Nicola d'Oresme</a>
</div>
<div>
<h4>Patristica</h4>
<a href="articoli/clemente.html" role="menuitem">Clemente Alessandrino</a>
<a href="articoli/tertulliano.html" role="menuitem">Tertulliano</a>
<a href="articoli/origene.html" role="menuitem">Origene</a>
<a href="articoli/cipriano.html" role="menuitem">Cipriano di Cartagine</a>
<a href="articoli/atanasio.html" role="menuitem">Atanasio di Alessandria</a>
<a href="articoli/basilio.html" role="menuitem">Basilio di Cesarea</a>
<a href="articoli/gregorio-di-nazianzo.html" role="menuitem">Gregorio di Nazianzo</a>
<a href="articoli/gregorio-di-nizza.html" role="menuitem">Gregorio di Nissa</a>
<a href="articoli/ambrogio.html" role="menuitem">Ambrogio di Milano</a>
<a href="articoli/girolamo.html" role="menuitem">Girolamo</a>
<a href="articoli/agostino.html" role="menuitem">Agostino</a>
<a href="articoli/pseudo-dionigi.html" role="menuitem">Pseudo-Dionigi Areopagita</a>
<a href="articoli/boezio.html" role="menuitem">Boezio</a>
<a href="articoli/alberto-m.html" role="menuitem">Gregorio Magno</a>
</div>
<div>
<h4>Mistica</h4>
<a href="articoli/ildegarda.html" role="menuitem">Ildegarda di Bingen </a>
<a href="articoli/eckhart.html" role="menuitem">Meister Eckhart</a>
<a href="articoli/caterina.html" role="menuitem">Caterina da Siena</a>
<h4>Filosofia Islamica</h4>
<a href="articoli/avicenna.html" role="menuitem">Avicenna</a>
<a href="articoli/averroe.html" role="menuitem">Averro√®</a>
<a href="articoli/al-farabi.html" role="menuitem">Al-Farabi</a>
<a href="articoli/al-ghazali.html" role="menuitem">Al-Ghazali</a>
</div>
<div>
<h4>Filosofia Ebraica</h4>
<a href="articoli/maimonide.html" role="menuitem">Maimonide</a>
<a href="articoli/saadia%20goan.html" role="menuitem">Saadia Gaon</a>
<a href="articoli/gersonide.html" role="menuitem">Gersonide</a>
<a href="articoli/hasdai%20crescas.html" role="menuitem">Hasdai Crescas</a>
</div>
</div>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">üí°Filosofia moderna <span class="arrow">‚ñº</span></button>
<div aria-label="Sottomenu Filosofia moderna" class="mega-menu columns-4" role="menu">
<div>
<h4>Rinascimento</h4>
<a href="articoli/erasmo.html" role="menuitem">Erasmo da Rotterdam</a>
<a href="articoli/machiavelli.html" role="menuitem">Niccol√≤ Machiavelli</a>
<a href="articoli/moro.html" role="menuitem">Tommaso Moro</a>
<a href="articoli/bruno.html" role="menuitem">Giordano Bruno</a>
<h4>Razionalismo</h4>
<a href="articoli/cartesio.html" role="menuitem">Cartesio</a>
<a href="articoli/spinoza.html" role="menuitem">Spinoza</a>
<a href="articoli/leibniz.html" role="menuitem">Leibniz</a>
</div>
<div>
<h4>Empirismo</h4>
<a href="articoli/locke.html" role="menuitem">Locke</a>
<a href="articoli/hume.html" role="menuitem">Hume</a>
<a href="articoli/berkeley.html" role="menuitem">Berkeley</a>
<h4>Romanticismo</h4>
<a href="articoli/frege.html" role="menuitem">Arthur Schopenhauer</a>
<a href="articoli/kierkegaard.html" role="menuitem">S√∏ren Kierkegaard</a>
<a href="articoli/goethe.html" role="menuitem">Johann Wolfgang von Goethe</a>
</div>
<div>
<h4>Illuminismo</h4>
<a href="articoli/rousseau.html" role="menuitem">Rousseau</a>
<a href="articoli/montesquieu.html" role="menuitem">Montesquieu</a>
<a href="articoli/voltaire.html" role="menuitem">Voltaire</a>
<h4>Materialismo</h4>
<a href="articoli/marx.html" role="menuitem">Karl Marx</a>
<a href="articoli/engels.html" role="menuitem">Friedrich Engels</a>
<a href="articoli/feuerbach.html" role="menuitem">Ludwig Andreas Feuerbach </a>
</div>
<div>
<h4>Idealismo</h4>
<a href="articoli/hegel.html" role="menuitem">Hegel</a>
<a href="articoli/kant.html" role="menuitem">Kant</a>
<a href="articoli/fichte.html" role="menuitem">Fichte</a>
<a href="articoli/schelling.html" role="menuitem">Schelling</a>
</div>
<div>
<h4>Positivismo</h4>
<a href="articoli/comte.html" role="menuitem">Auguste Comte </a>
<a href="articoli/mill.html" role="menuitem">John Stuart Mill </a>
<a href="articoli/spencer.html" role="menuitem">Herbert Spencer</a>
<a href="articoli/mach.html" role="menuitem">Ernst Mach</a>
<a href="articoli/adrig%C3%B2.html" role="menuitem">Roberto Ardig√≤</a>
</div>
<div>
<h4>Gnoseologia</h4>
<a href="articoli/bacon.html" role="menuitem">Francis Bacon</a>
<a href="articoli/mill.html" role="menuitem">John Stuart Mill </a>
<a href="articoli/spencer.html" role="menuitem">Herbert Spencer</a>
</div>
<div>
<h4>Metafisica/Ontologia</h4>
<a href="articoli/spinoza.html" role="menuitem">Spinoza</a>
<a href="articoli/heidegger.html" role="menuitem">Heidegger</a>
<a href="articoli/severino.html" role="menuitem">Emmanuele Severino</a>
<a href="articoli/quine.html" role="menuitem">Willard Van Orme Quine</a>
<a href="articoli/lewis.html" role="menuitem">David Lewis</a>
</div>
<div>
<h4>Filosofia russa</h4>
<a href="articoli/dostoevskij.html" role="menuitem">F√´dor Dostoevskij</a>
<a href="articoli/solov'%C3%ABv.html" role="menuitem">Vladimir Solov'√´v </a>
<a href="articoli/rozanov.html" role="menuitem">Vasilij Rozanov </a>
<a href="articoli/sestov.html" role="menuitem">Lev ≈†estov</a>
<a href="articoli/bulgakov.html" role="menuitem">Sergej Bulgakov</a>
</div>
</div>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">üåÄFilosofia contemporanea <span class="arrow">‚ñº</span></button>
<div aria-label="Sottomenu Filosofia contemporanea" class="mega-menu columns-4" role="menu">
<div>
<h4>Filosofia analitica</h4>
<a href="articoli/frege.html" role="menuitem">Frege</a>
<a href="articoli/russell.html" role="menuitem">Russell</a>
<a href="articoli/wittgenstein.html" role="menuitem">Wittgenstein</a>
<a href="articoli/moore.html" role="menuitem">G.E. Moore</a>
<h4>Utilitarismo</h4>
<a href="articoli/betham.html" role="menuitem">Jeremy Bentham </a>
<a href="articoli/mill.html" role="menuitem">John Stuart Mill</a>
</div>
<div>
<h4>Filosofia Continentale</h4>
<a href="articoli/husserl.html" role="menuitem">Husserl</a>
<a href="articoli/merleau-ponty.html" role="menuitem">Merleau-Ponty</a>
<a href="articoli/l%C3%A9vi-strauss.html" role="menuitem">Claude L√©vi-Strauss</a>
<a href="articoli/bergson1.html" role="menuitem">Henri-Louis Bergson</a>
<a href="articoli/althusser.html" role="menuitem">Louis Althusser</a>
<a href="articoli/dreyfus.html" role="menuitem">Dina Dreyfus</a>
<a href="articoli/sartre.html" role="menuitem">Sartre</a>
</div>
<div>
<h4>Ermeneutica</h4>
<a href="articoli/schleiermacher.html" role="menuitem">Friedrich Schleiermacher</a>
<a href="articoli/dilthey.html" role="menuitem">Wilhelm Dilthey</a>
<a href="articoli/heidegger.html" role="menuitem">Heidegger</a>
<a href="articoli/gadamer.html" role="menuitem">Hans-Georg Gadamer</a>
<a href="/articoli/ricoeur.html" role="menuitem">Paul Ricoeur</a>
</div>
<div>
<h4>Filosofia del linguaggio</h4>
<a href="articoli/wittgenstein.html" role="menuitem">Ludwig Wittgenstein</a>
<a href="articoli/austin.html" role="menuitem">J.L. Austin</a>
<a href="articoli/searle.html" role="menuitem">John Searle</a>
<a href="articoli/quine.html" role="menuitem">Willard Van Orme Quine</a>
<h4>Scuola di Francoforte</h4>
<a href="articoli/horkheimer.html" role="menuitem">Max Horkheimer</a>
<a href="articoli/adorno.html" role="menuitem">Theodor W. Adorno</a>
<a href="/articoli/marcuse.html" role="menuitem">Herbert Marcuse</a>
<a href="articoli/benjamin.html" role="menuitem">Walter Benjamin</a>
<a href="articoli/fromm.html" role="menuitem">Erich Fromm</a>
<a href="articoli/habermas.html" role="menuitem">J√ºrgen Habermas</a>
</div>
<div>
<h4>Pragmatismo Americano</h4>
<a href="articoli/peirce.html" role="menuitem">Peirce</a>
<a href="articoli/james.html" role="menuitem">W. James</a>
<a href="articoli/dewey.html" role="menuitem">Dewey</a>
<a href="articoli/rorty.html" role="menuitem">R. Rorty</a>
</div>
<div>
<h4>Filosofia postmoderna</h4>
<a href="articoli/derrida.html" role="menuitem">Derrida</a>
<a href="articoli/foucault.html" role="menuitem">Foucault</a>
<a href="articoli/lyotard.html" role="menuitem">Lyotard</a>
<a href="articoli/deleuze.html" role="menuitem">Deleuze</a>
<a href="articoli/butler.html" role="menuitem">Butler</a>
</div>
<div>
<h4>Filosofia italiana</h4>
<a href="articoli/severino.html" role="menuitem">Emmanuele Severino</a>
<a href="articoli/eco.html" role="menuitem">Umberto Eco</a>
<a href="articoli/vattimo.html" role="menuitem">Gianni Vattimo</a>
<a href="articoli/bodei.html" role="menuitem">Remo Bodei</a>
<a href="articoli/cacciari.html" role="menuitem">Massimo Cacciari</a>
<a href="articoli/galimberti.html" role="menuitem">Umberto Galimberti</a>
</div>
<div>
<h4>Socioetica</h4>
<a href="articoli/rawls.html" role="menuitem">John Rawls:</a>
<a href="articoli/nozick.html" role="menuitem">Robert Nozick</a>
<a href="articoli/singer.html" role="menuitem">Peter Singer</a>
<a href="articoli/jonas.html" role="menuitem">Hans Jonas</a>
<a href="articoli/beauvoir.html" role="menuitem">Simone de Beauvoir</a>
<a href="articoli/fraser.html" role="menuitem">Nancy Fraser</a>
<a href="articoli/said.html" role="menuitem">Edward Said</a>
</div>
</div>
</li>
<li class="dropdown">
<button aria-expanded="false" aria-haspopup="true" class="menu-btn underline-effect" role="menuitem">üáµüá± Filosofia polacca <span class="arrow">‚ñº</span></button>
<div aria-label="Sottomenu Filosofia polacca" class="mega-menu columns-4 right-align" role="menu">
<div>
<h4>Romanticismo</h4>
<a href="articoli/wronski.html" role="menuitem">J√≥zef Hoene-Wro≈Ñski</a>
<a href="articoli/cieszkowski.html" role="menuitem">August Cieszkowski</a>
<a href="articoli/mickiewicz.html" role="menuitem">Adam Mickiewicz</a>
<a href="articoli/rzewuski.html" role="menuitem">Henryk Rzewuski</a>
<a href="articoli/potocki.html" role="menuitem">Stanis≈Çaw Kostka Potocki</a>
</div>
<div>
<h4>Logica e Analitica</h4>
<a href="articoli/twardowski.html" role="menuitem">Kazimierz Twardowski</a>
<a href="articoli/lukasiewicz.html" role="menuitem">Jan ≈Åukasiewicz</a>
<a href="articoli/tarski.html" role="menuitem">Alfred Tarski</a>
<a href="articoli/kotarbinski.html" role="menuitem">Tadeusz Kotarbi≈Ñski</a>
<a href="articoli/ajdukiewicz.html" role="menuitem">Kazimierz Ajdukiewicz</a>
<a href="articoli/ingarden.html" role="menuitem">Roman Ingarden</a>
</div>
<div>
<h4>Periodo comunista</h4>
<a href="articoli/malinowski.html" role="menuitem">Bronis≈Çaw Malinowski</a>
<a href="articoli/swie%C5%BCawski.html" role="menuitem">Stefan Swie≈ºawski</a>
<a href="articoli/kolakowski.html" role="menuitem">Leszek Ko≈Çakowski</a>
<a href="articoli/wojtyla.html" role="menuitem">
                Karol Wojty≈Ça<br/>
                (Papa Giovanni Paolo II)
                </a>
</div>
<div>
<h4>Post-Comunista</h4>
<a href="articoli/tischner.html" role="menuitem">J√≥zef Tischner</a>
<a href="articoli/bauman.html" role="menuitem">Zygmunt Bauman</a>
</div>
</div>
</li>
<li class="dropdown">
<a class="menu-btn underline-effect" href="https://casi0048.github.io/pagine/pagina-contatti.html" role="menuitem">üìß Contatti</a>
</li>
</ul>
</nav>
</div>
    </header>

    <!-- Resto del codice rimane invariato -->
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Benvenuto in Echi di Sofia</h2>
            <p>Un viaggio attraverso le idee e i pensieri che hanno plasmato la civilt√† occidentale, dai Presocratici ai filosofi dell'et√† classica.</p>
            <a href="/articoli/#lista-articoli" class="btn">Scopri di pi√π</a>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <div class="main-content">
            <!-- Articles Section -->
            <section class="articles-section">
                <h2 class="section-title">Ultimi Articoli</h2>
                <div class="articles-grid">
                    <article class="article-card">
                        <div class="article-img" style="background-image: url('https://images.unsplash.com/photo-1548438294-1ad5d5f4f063?ixlib=rb-4.0.3&auto=format&fit=crop&w=1352&q=80');"></div>
                        <div class="article-content">
                            <h3>Il pensiero di Eraclito: tutto scorre</h3>
                            <p>Analisi del pensiero del filosofo di Efeso, noto per la sua dottrina del divenire e l'idea che "tutto scorre" (panta rhei).</p>
                            <div class="article-meta">
                                <span><i class="far fa-calendar"></i> 15 Maggio 2023</span>
                                <span><i class="far fa-clock"></i> 8 min read</span>
                            </div>
                        </div>
                    </article>
                    <article class="article-card">
                        <div class="article-img" style="background-image: url('https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');"></div>
                        <div class="article-content">
                            <h3>Parmenide e l'essere immutabile</h3>
                            <p>Esplorazione della filosofia di Parmenide, che contrappone l'essere immutabile all'apparenza del divenire.</p>
                            <div class="article-meta">
                                <span><i class="far fa-calendar"></i> 10 Maggio 2023</span>
                                <span><i class="far fa-clock"></i> 10 min read</span>
                            </div>
                        </div>
                    </article>
                    <article class="article-card">
                        <div class="article-img" style="background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');"></div>
                        <div class="article-content">
                            <h3>I Sofisti: maestri di retorica</h3>
                            <p>Chi erano i Sofisti e quale fu il loro ruolo nell'Atene del V secolo a.C. Scopri il loro approccio all'insegnamento.</p>
                            <div class="article-meta">
                                <span><i class="far fa-calendar"></i> 5 Maggio 2023</span>
                                <span><i class="far fa-clock"></i> 12 min read</span>
                            </div>
                        </div>
                    </article>
                    <article class="article-card">
                        <div class="article-img" style="background-image: url('https://images.unsplash.com/photo-1554412938-9f27ba1a56e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');"></div>
                        <div class="article-content">
                            <h3>Pitagora e l'armonia dei numeri</h3>
                            <p>La scuola pitagorica e la sua visione del mondo basata sui numeri e sulle relazioni matematiche.</p>
                            <div class="article-meta">
                                <span><i class="far fa-calendar"></i> 1 Maggio 2023</span>
                                <span><i class="far fa-clock"></i> 9 min read</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-widget">
                    <h3>Articoli Recenti</h3>
                    <ul class="recent-articles">
                        <li><a href="#">Il pensiero di Eraclito: tutto scorre</a></li>
                        <li><a href="#">Parmenide e l'essere immutabile</a></li>
                        <li><a href="#">I Sofisti: maestri di retorica</a></li>
                        <li><a href="#">Pitagora e l'armonia dei numeri</a></li>
                        <li><a href="#">Democrito e la teoria atomistica</a></li>
                    </ul>
                </div>
                <div class="sidebar-widget">
                    <h3>Citazione del Giorno</h3>
                    <div class="quote-widget">
                        <p>"Conosci te stesso"</p>
                        <div class="quote-author">- Iscrizione sul tempio di Apollo a Delfi</div>
                    </div>
                </div>
                <div class="sidebar-widget">
                    <h3>Filosofo in Evidenza</h3>
                    <div class="featured-philosopher">
                        <h4>Socrate</h4>
                        <p>Filosofo ateniese considerato uno dei fondatori del pensiero filosofico occidentale. Noto per il suo metodo dialettico e la sua ricerca della verit√† attraverso il dialogo.</p>
                        <a href="#" class="btn" style="padding: 8px 15px; font-size: 0.9rem;">Scopri di pi√π</a>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>Filosofia Antica</h4>
                    <p>Il portale dedicato allo studio e alla divulgazione del pensiero filosofico antico, dalle origini al periodo ellenistico.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4>Esplora</h4>
                    <ul>
                        <li><a href="#">Filosofia Presocratica</a></li>
                        <li><a href="#">Filosofia Classica</a></li>
                        <li><a href="#">Filosofia Ellenistica</a></li>
                        <li><a href="#">Scuole Filosofiche</a></li>
                        <li><a href="#">Glossario Filosofico</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Risorse</h4>
                    <ul>
                        <li><a href="#">Bibliografia</a></li>
                        <li><a href="#">Fonti Primarie</a></li>
                        <li><a href="#">Articoli Accademici</a></li>
                        <li><a href="#">Mappa Concettuale</a></li>
                        <li><a href="#">Linea del Tempo</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contatti</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i> info@filosofia-antica.it</li>
                        <li><i class="fas fa-map-marker-alt"></i> Via della Filosofia, 123 - Roma</li>
                        <li><i class="fas fa-phone"></i> +39 06 123 4567</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Filosofia Antica. Tutti i diritti riservati.</p>
            </div>
        </div>
    </footer>


<script>
/* ===== Google Translate: controllo da select custom ===== */

// 1) Carica script di Google una sola volta
(function loadGTranslate() {
  if (window._gtLoaded) return;
  window._gtLoaded = true;
  // callback globale richiesta da Google
  window.googleTranslateElementInit = function () {
    new google.translate.TranslateElement({
      pageLanguage: 'it',                      // lingua sorgente del sito
      includedLanguages: 'it,en,fr,de,es,pl',  // lingue permesse
      autoDisplay: false
    }, 'google_translate_element');
  };

  var s = document.createElement('script');
  s.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
  s.defer = true;
  document.head.appendChild(s);
})();

// 2) Helper: dispatch evento change cross-browser
function fireChange(el){
  try {
    var evt = new Event('change', { bubbles: true });
    el.dispatchEvent(evt);
  } catch(e){
    var evtOld = document.createEvent('HTMLEvents');
    evtOld.initEvent('change', true, true);
    el.dispatchEvent(evtOld);
  }
}

// 3) Selettore della combo originale di Google (quando pronta)
function withGTCombo(fn){
  var tries = 0;
  (function poll(){
    var combo = document.querySelector('.goog-te-combo');
    if (combo) return fn(combo);
    if (tries++ < 60) return setTimeout(poll, 250); // fino a ~15s
    console.warn('Google Translate non inizializzato in tempo');
  })();
}

// 4) Imposta cookie per reset su IT
function setCookie(name, value, days){
  var d = new Date(); d.setTime(d.getTime()+ (days*24*60*60*1000));
  document.cookie = name + "=" + value + "; expires=" + d.toUTCString() + "; path=/";
}

// 5) Handler del select custom
(function initCustomTranslate(){
  var sel = document.getElementById('customTranslate');
  if (!sel) return;

  sel.addEventListener('change', function(e){
    var lang = e.target.value || 'it';

    // Caso ‚ÄúItaliano‚Äù = ripristina pagina originale
    if (lang === 'it'){
      // Reset cookie usato da GTranslate e ricarica pulito
      setCookie('googtrans', '/auto/it', 1);
      setCookie('googtrans', '/auto/it', 1); // doppio set per sottodomini
      location.reload();
      return;
    }

    // Seleziona lingua sulla combo nascosta di Google
    withGTCombo(function(combo){
      combo.value = lang;
      fireChange(combo);
    });
  });

  // Sincronizza il select alla lingua attuale (se l‚Äôutente ricarica una pagina tradotta)
  document.addEventListener('DOMContentLoaded', function(){
    var m = (document.cookie.match(/(?:^|;\s*)googtrans=([^;]+)/) || [])[1];
    if (m){
      try{
        var parts = decodeURIComponent(m).split('/');
        var current = parts[parts.length - 1] || 'it';
        if (['it','en','fr','de','es','pl'].includes(current)){
          sel.value = current;
        }
      }catch(_){}
    }
  });
})();
</script>

<script defer>
/* ===== SITE SEARCH ‚Üí pannello nella stessa pagina ===== */
(function () {
  const box = document.getElementById('siteSearch');
  const input = document.getElementById('siteSearchInput');
  const btn = document.getElementById('siteSearchBtn');
  
  if (!box || !input || !btn) return;

  console.log('üîç Search: System initialized');

  // Crea il pannello dei risultati se non esiste
  let panel = document.getElementById('searchPanel');
  if (!panel) {
    panel = document.createElement('div');
    panel.id = 'searchPanel';
    panel.className = 'search-panel';
    panel.setAttribute('aria-hidden', 'true');
    panel.innerHTML = `
      <div class="search-header">
        <h3>Risultati della ricerca</h3>
        <button class="search-clear-btn" id="searchClearBtn" aria-label="Cancella ricerca">
          <i class="fas fa-times"></i> Cancella
        </button>
      </div>
      <div class="search-results" id="searchResults"></div>
    `;
    document.body.appendChild(panel);
  }
  
  const resultsEl = document.getElementById('searchResults');
  const clearBtn = document.getElementById('searchClearBtn');

  // MODIFICA L'HTML DELLA SEARCH BOX PER AGGIUNGERE LA CROCE
  const searchBox = document.querySelector('.search-box');
  if (searchBox && !document.getElementById('searchClearInput')) {
    searchBox.innerHTML = `
      <input id="siteSearchInput"
             type="search"
             placeholder="Cerca filosofi, concetti‚Ä¶"
             aria-label="Cerca nel sito">
      <div class="search-controls">
        <button id="searchClearInput" class="clear-input-btn" type="button" aria-label="Cancella testo" style="display: none;">
          <i class="fas fa-times-circle"></i>
        </button>
        <button id="siteSearchBtn" type="button" aria-label="Esegui ricerca">
          <i class="fas fa-search" aria-hidden="true"></i>
        </button>
      </div>
    `;
  }

  const clearInputBtn = document.getElementById('searchClearInput');

  // DATI DI ESEMPIO PER TEST - CON MARX
  const SAMPLE_INDEX = [
    {
      "title": "Platone",
      "url": "articoli/platone.html",
      "desc": "Filosofo greco fondatore dell'Accademia e autore della teoria delle Idee",
      "category": "Filosofia classica",
      "tags": ["Platone", "Idee", "Accademia", "Socrate"]
    },
    {
      "title": "Aristotele", 
      "url": "articoli/aristotele.html",
      "desc": "Allievo di Platone e fondatore del Liceo, padre della logica formale",
      "category": "Filosofia classica",
      "tags": ["Aristotele", "Logica", "Liceo", "Metafisica"]
    },
    {
      "title": "Talete",
      "url": "Presocratici/talete.html",
      "desc": "Primo filosofo della scuola di Mileto, noto per la sua teoria sull'acqua come arch√®",
      "category": "Presocratici", 
      "tags": ["Talete", "Acqua", "Mileto", "Presocratici"]
    },
    {
      "title": "Karl Marx",
      "url": "articoli/marx.html",
      "desc": "Filosofo, economista e rivoluzionario tedesco, fondatore del socialismo scientifico",
      "category": "Filosofia moderna",
      "tags": ["Marx", "Comunismo", "Materialismo", "Capitalismo"]
    },
    {
      "title": "Marxismo",
      "url": "articoli/marxismo.html", 
      "desc": "Corrente filosofica e politica basata sul pensiero di Karl Marx",
      "category": "Filosofia contemporanea",
      "tags": ["Marxismo", "Socialismo", "Lotta di classe", "Ideologia"]
    },
    {
      "title": "Nietzsche",
      "url": "articoli/2nietzsche.html",
      "desc": "Filosofo tedesco noto per la teoria del superuomo e la morte di Dio",
      "category": "Filosofia contemporanea",
      "tags": ["Nietzsche", "Oltreuomo", "Volont√† di potenza", "Germania"]
    }
  ];

  let SEARCH_INDEX = null;
  let isLoading = false;

  /**
   * Carica l'indice di ricerca
   */
  async function loadSearchIndex() {
    if (SEARCH_INDEX || isLoading) return SEARCH_INDEX;
    
    isLoading = true;
    console.log('üîç Search: Loading index...');
    
    try {
      // Se siamo in file:// protocol, usa dati di esempio
      if (window.location.protocol === 'file:') {
        console.log('üîç Search: File protocol detected, using sample data');
        SEARCH_INDEX = SAMPLE_INDEX;
      } else {
        // Altrimenti prova a caricare dal server
        const urls = ['/search-index.json', './search-index.json', 'search-index.json'];
        
        for (const url of urls) {
          try {
            console.log('üîç Search: Trying URL:', url);
            const response = await fetch(url);
            if (response.ok) {
              SEARCH_INDEX = await response.json();
              console.log('üîç Search: Loaded from', url, '- Items:', SEARCH_INDEX.length);
              break;
            }
          } catch (error) {
            console.warn('üîç Search: Failed from', url);
          }
        }
        
        // Fallback ai dati di esempio
        if (!SEARCH_INDEX || SEARCH_INDEX.length === 0) {
          console.warn('üîç Search: Using sample data as fallback');
          SEARCH_INDEX = SAMPLE_INDEX;
        }
      }
    } finally {
      isLoading = false;
    }
    
    console.log('üîç Search: Final index count:', SEARCH_INDEX.length);
    return SEARCH_INDEX;
  }

  /**
   * Calcola lo score di rilevanza per un item
   */
  function calculateRelevanceScore(query, item) {
    const queryLower = query.toLowerCase();
    const title = (item.title || '').toLowerCase();
    const description = (item.description || item.desc || '').toLowerCase();
    const tags = Array.isArray(item.tags) ? item.tags.join(' ').toLowerCase() : '';
    const category = (item.category || '').toLowerCase();
    
    let score = 0;
    
    // Priorit√†: titolo > tags/category > descrizione
    if (title.includes(queryLower)) score += 5;
    if (tags.includes(queryLower)) score += 3;
    if (category.includes(queryLower)) score += 2;
    if (description.includes(queryLower)) score += 1;
    
    return score;
  }

  /**
   * Escape HTML per sicurezza
   */
  function escapeHtml(text) {
    if (!text) return '';
    const escapeMap = {
      '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
    };
    return text.replace(/[&<>"']/g, char => escapeMap[char]);
  }

  /**
   * Highlight del testo con marcature
   */
  function highlightText(text, query) {
    if (!text || !query) return escapeHtml(text);
    const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const regex = new RegExp(escapedQuery, 'ig');
    return escapeHtml(text).replace(regex, match => `<mark class="search-hit">${match}</mark>`);
  }

  /**
   * Normalizza i dati dell'indice
   */
  function normalizeIndexData(rawData) {
    const rawArray = Array.isArray(rawData) ? rawData : [];
    
    return rawArray.map(item => ({
      title: item.title || '',
      url: normalizeUrl(item.url),
      description: item.desc || item.description || '',
      tags: normalizeTags(item.tags, item.category),
      source: item.source || item.section || item.category || ''
    }));
  }

  function normalizeUrl(url) {
    if (!url) return '#';
    if (url.startsWith('http')) return url;
    if (url.startsWith('/')) return url;
    return url; // Mantieni il percorso relativo
  }

  function normalizeTags(tags, category) {
    if (category) return [category];
    if (Array.isArray(tags)) return tags;
    if (typeof tags === 'string') return [tags];
    return [];
  }

  /**
   * Mostra/nasconde la croce cancella nell'input
   */
  function toggleClearButton() {
    if (clearInputBtn && input.value.trim() !== '') {
      clearInputBtn.style.display = 'flex';
    } else if (clearInputBtn) {
      clearInputBtn.style.display = 'none';
    }
  }

  /**
   * Cancella l'input
   */
  function clearInput() {
    input.value = '';
    toggleClearButton();
    input.focus();
    closeResultsPanel();
  }

  /**
   * Pulisce la ricerca
   */
  function clearSearch() {
    console.log('üîç Search: Clearing search');
    input.value = '';
    toggleClearButton();
    closeResultsPanel();
    input.focus();
  }

  /**
   * Apre il pannello dei risultati
   */
  function openResultsPanel() {
    console.log('üîç Search: Opening panel');
    panel.style.display = 'block';
    panel.setAttribute('aria-hidden', 'false');
    document.addEventListener('keydown', handleEscapeKey);
    document.addEventListener('click', handleOutsideClick, { capture: true });
  }

  function closeResultsPanel() {
    console.log('üîç Search: Closing panel');
    panel.style.display = 'none';
    panel.setAttribute('aria-hidden', 'true');
    document.removeEventListener('keydown', handleEscapeKey);
    document.removeEventListener('click', handleOutsideClick, { capture: true });
  }

  function handleEscapeKey(event) {
    if (event.key === 'Escape') {
      closeResultsPanel();
      input.focus();
    }
  }

  function handleOutsideClick(event) {
    if (!panel.contains(event.target) && !box.contains(event.target)) {
      closeResultsPanel();
    }
  }

  /**
   * Renderizza i risultati della ricerca
   */
  function renderSearchResults(query, results) {
    console.log('üîç Search: Rendering', results.length, 'results for:', query);
    
    if (!results.length) {
      resultsEl.innerHTML = `
        <div class="result">
          <div class="result-desc">Nessun risultato per <strong>${escapeHtml(query)}</strong>.</div>
        </div>
      `;
      openResultsPanel();
      return;
    }
    
    resultsEl.innerHTML = results.map(item => `
      <div class="result">
        <a class="result-title" href="${item.url}" rel="noopener">
          <h4>${highlightText(item.title, query)}</h4>
        </a>
        ${item.tags.length ? `
          <div class="result-tags">
            ${item.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join(' ')}
          </div>
        ` : ''}
        <div class="result-desc">${highlightText(item.description, query)}</div>
        ${item.source ? `
          <div class="result-source">Fonte: ${escapeHtml(item.source)}</div>
        ` : ''}
      </div>
    `).join('');
    
    openResultsPanel();
  }

  /**
   * Esegue la ricerca
   */
  async function performSearch(rawQuery) {
    const query = (rawQuery || '').trim();
    console.log('üîç Search: performSearch called with:', query);
    
    if (!query) {
      input.focus();
      return;
    }
    
    // APRI SUBITO IL PANNELO (prima del caricamento)
    resultsEl.innerHTML = `
      <div class="result">
        <div class="result-desc">Cerco "${escapeHtml(query)}"...</div>
      </div>
    `;
    openResultsPanel(); // ‚¨ÖÔ∏è QUESTA RIGA √à ESSENZIALE!
    
    const indexData = await loadSearchIndex();
    const normalizedItems = normalizeIndexData(indexData);
    
    const rankedResults = normalizedItems
      .map(item => ({ item, score: calculateRelevanceScore(query, item) }))
      .filter(({ score }) => score > 0)
      .sort((a, b) => b.score - a.score)
      .slice(0, 30)
      .map(({ item }) => item);
    
    renderSearchResults(query, rankedResults);
  }

  // ===== EVENT HANDLERS =====

  // Event listeners per la croce cancella
  if (clearInputBtn) {
    input.addEventListener('input', toggleClearButton);
    input.addEventListener('focus', toggleClearButton);
    clearInputBtn.addEventListener('click', clearInput);
  }

  // Handler per il pulsante ricerca
  btn.addEventListener('click', () => performSearch(input.value));
  
  // Handler per Enter nell'input
  input.addEventListener('keydown', event => {
    if (event.key === 'Enter') {
      event.preventDefault();
      performSearch(input.value);
    }
  });

  // Handler per il pulsante Cancella nel pannello
  clearBtn.addEventListener('click', (event) => {
    event.stopPropagation();
    clearSearch();
  });

  // Shortcut: / per focus sulla search
  window.addEventListener('keydown', event => {
    if (event.key === '/' && !event.metaKey && !event.ctrlKey && !event.altKey) {
      const activeTag = document.activeElement?.tagName || '';
      if (!/INPUT|TEXTAREA|SELECT/.test(activeTag)) {
        event.preventDefault();
        input.focus();
      }
    }
  });

  function initFromUrlParams() {
    try {
      const urlParams = new URLSearchParams(window.location.search);
      const queryParam = urlParams.get('q');
      if (queryParam && !input.value) {
        input.value = queryParam;
        performSearch(queryParam);
      }
    } catch (error) {
      console.warn('Search: Error reading URL parameters', error);
    }
  }

  window.__testSearch = performSearch;
  window.__clearSearch = clearSearch;

  // ===== INIZIALIZZAZIONE =====
  initFromUrlParams();
  toggleClearButton(); // Nascondi la croce all'inizio
  console.log('üîç Search: Ready! Try: __testSearch("Marx")');

})();
</script>
  <script>
  // --- aggiungi queste utility in alto, accanto alle altre funzioni ---
  function debounce(fn, wait) {
    let t; 
    return function(...args) {
      clearTimeout(t);
      t = setTimeout(() => fn.apply(this, args), wait);
    }
  }

  // --- in fondo, tra gli "EVENT HANDLERS" ---
  const debouncedSearch = debounce(q => performSearch(q), 180);

  // Ricerca mentre digiti
  input.addEventListener('input', (e) => {
    const q = e.target.value.trim();
    toggleClearButton();                 // gi√† presente in tuo codice
    if (q.length >= 2) {
      debouncedSearch(q);                // apre anche il pannello
    } else {
      closeResultsPanel();               // se svuoti, chiudi
    }
  });

  // Se entri nel campo con testo gi√† presente, mostra subito il pannello
  input.addEventListener('focus', () => {
    const q = input.value.trim();
    if (q.length >= 2) performSearch(q);
  });
</script>

</body>
</html>
