<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Echi di Sofia</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <style>
        /* Variabili CSS per facilitare la personalizzazione */
        :root {
            --colore-sfondo-corpo: #f8f8f8;
            --colore-testo-principale: #333;
            --colore-sfondo-header: rgba(10, 10, 10, 0.55); /* Overlay scuro */
            --colore-titolo: #fbeec8; /* Colore oro chiaro */
            --colore-sottotitolo: #ddd;
            --colore-link-menu: #eee;
            --colore-link-menu-hover: #ffd28c; /* Colore oro aranciato */
            --colore-sfondo-sottomenu: rgba(10, 10, 10, 0.95);
            --colore-link-sottomenu-hover-bg: #ffd28c;
            --colore-link-sottomenu-hover-text: #222;
        }

        /* --- Stili Base / Mobile First --- */
        body {
            margin: 0;
            font-family: 'Crimson Pro', serif;
            background: var(--colore-sfondo-corpo);
            color: var(--colore-testo-principale);
            line-height: 1.6;
            scroll-behavior: smooth; /* Per lo smooth scroll */
        }

        .intestazione-sito {
            position: relative;
            height: 280px; /* Aumentato leggermente per estetica */
            background-image: url('Background-git.png'); /* Assicurati che il percorso sia corretto */
            background-size: cover;
            background-position: center;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .overlay {
            background: var(--colore-sfondo-header);
            text-align: center;
            padding: 0 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .contenuto {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px; /* Aggiunto padding per mobile */
            z-index: 5; /* Assicura che il contenuto sia sopra l'overlay ma sotto il menu */
        }

        .titolo-sito {
            font-size: 2.8em; /* Adattato per mobile */
            color: var(--colore-titolo);
            margin-bottom: 8px;
            text-shadow: 2px 2px 0 #000, 4px 4px 10px rgba(0, 0, 0, 0.7);
        }

        .sottotitolo {
            font-size: 1.2em; /* Adattato per mobile */
            font-style: italic;
            color: var(--colore-sottotitolo);
            text-shadow: 1px 1px 2px #000;
            max-width: 80%; /* Per non essere troppo largo su mobile */
            margin: 0 auto;
        }

        /* --- Menu Hamburger (Mobile) --- */
        .hamburger-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100; /* Sopra tutto */
        }

        .hamburger-button {
            background: none;
            border: none;
            font-size: 2.2em;
            color: var(--colore-link-menu);
            cursor: pointer;
            padding: 5px;
            display: flex; /* Per centrare l'icona */
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            transition: color 0.3s ease, background 0.3s ease;
        }

        .hamburger-button:hover,
        .hamburger-button:focus {
            color: var(--colore-link-menu-hover);
            background: rgba(255, 255, 255, 0.1);
            outline: none; /* Rimuove l'outline predefinito al focus */
        }

        .menu-nav {
            position: fixed; /* O absolute, a seconda dell'effetto desiderato */
            top: 0;
            right: -300px; /* Inizialmente fuori schermo */
            width: 250px; /* Larghezza del menu laterale */
            height: 100%;
            background: var(--colore-sfondo-sottomenu);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.7);
            transition: right 0.4s ease-out;
            z-index: 99; /* Sotto il bottone hamburger */
            padding-top: 80px; /* Spazio per il bottone di chiusura/logo invisibile */
        }

        .menu-nav.active {
            right: 0; /* Entra in vista */
        }

        .menu-links {
            list-style: none;
            margin: 0;
            padding: 0 20px;
        }

        .menu-links li {
            margin-bottom: 15px;
        }

        .menu-links a,
        .submenu-toggle {
            display: block;
            color: var(--colore-link-menu);
            text-decoration: none;
            font-size: 1.4em; /* Adattato per menu mobile */
            font-weight: 600;
            transition: all 0.3s ease;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px 0;
            width: 100%; /* Occupa tutta la larghezza */
            text-align: left;
        }

        .menu-links a:hover,
        .menu-links a:focus, /* Aggiunto focus per accessibilità */
        .submenu-toggle:hover,
        .submenu-toggle:focus {
            color: var(--colore-link-menu-hover);
            background: rgba(255, 210, 140, 0.1); /* Sfondo più tenue per hover mobile */
            outline: none;
            padding-left: 5px; /* Piccola animazione per l'hover */
        }

        .menu-links a.active-link {
            color: var(--colore-link-menu-hover);
            border-left: 3px solid var(--colore-link-menu-hover); /* Indicatore link attivo */
            padding-left: 17px; /* Compensare il bordo */
        }

        .has-submenu {
            position: relative;
        }

        .submenu {
            list-style: none;
            margin: 0;
            padding: 5px 0 5px 20px; /* Indentazione per i sottomenu */
            display: none;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.3); /* Sfondo leggermente diverso per i sottomenu */
            border-radius: 4px;
            margin-top: 5px;
        }

        .has-submenu.expanded .submenu {
            display: flex;
        }

        .submenu li {
            margin-bottom: 5px;
        }

        .submenu li:last-child {
            margin-bottom: 0;
        }

        .submenu li a {
            font-size: 1.2em; /* Dimensione leggermente più piccola per sottomenu */
            padding: 5px 0;
        }

        .submenu-toggle::after {
            content: " \f0d7"; /* Freccia giù di Font Awesome */
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            margin-left: 8px;
            font-size: 0.8em;
            transition: transform 0.3s ease;
        }

        .has-submenu.expanded .submenu-toggle::after {
            transform: rotate(180deg); /* Ruota la freccia quando il sottomenu è aperto */
        }

        .logo-container {
            display: none; /* Nascondi il logo su mobile, si mostrerà su desktop */
        }

        /* --- Contenuto Principale --- */
        main {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }

        main section {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        main section.active {
            display: block;
            opacity: 1;
        }

        main h2 {
            font-size: 2.2em;
            color: #555;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* --- Footer --- */
        .footer-sito {
            text-align: center;
            padding: 30px 20px;
            margin-top: 50px;
            background: #222;
            color: #bbb;
            font-size: 0.9em;
            border-top: 5px solid #000;
        }

        .footer-sito p {
            margin: 0;
        }


        /* --- Media Queries per Desktop --- */
        @media (min-width: 768px) {
            .intestazione-sito {
                height: 350px; /* Altezza maggiore su desktop */
            }

            .titolo-sito {
                font-size: 4em; /* Dimensione maggiore su desktop */
            }

            .sottotitolo {
                font-size: 1.6em; /* Dimensione maggiore su desktop */
                max-width: 100%; /* Nessun limite su desktop */
            }

            /* Nascondi il bottone hamburger su desktop */
            .hamburger-menu {
                display: none;
            }

            /* Mostra il menu completo su desktop */
            .menu-nav {
                position: absolute;
                top: 30px; /* Posizione del menu */
                left: 40px;
                right: 40px;
                width: auto;
                height: auto;
                background: none;
                box-shadow: none;
                transition: none;
                padding-top: 0;
                display: flex; /* Mostra il menu in linea */
                justify-content: flex-end; /* Allinea a destra */
            }

            .menu-links {
                display: flex;
                flex-direction: row; /* Elementi in riga */
                gap: 25px; /* Spazio tra gli elementi */
                padding: 0;
            }

            .menu-links li {
                margin-bottom: 0;
            }

            .menu-links a,
            .submenu-toggle {
                font-size: 1.2em; /* Dimensione per desktop */
                padding: 4px 8px; /* Padding leggero per desktop */
            }

            .menu-links a.active-link {
                border-left: none; /* Rimuove il bordo verticale del mobile */
                border-bottom: 3px solid var(--colore-link-menu-hover); /* Sottolineatura per attivo */
                padding-left: 8px; /* Reset padding */
                padding-bottom: 2px;
            }

            .submenu {
                position: absolute;
                top: calc(100% + 5px); /* Sotto l'elemento genitore, con un po' di spazio */
                left: 0;
                min-width: 200px;
                background: var(--colore-sfondo-sottomenu);
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
                padding: 10px 0;
                border-radius: 6px;
                margin-top: 0; /* Reset margin top */
                flex-direction: column;
                display: none; /* Nascosto di default */
            }

            .has-submenu:hover .submenu { /* Attiva il sottomenu all'hover */
                display: flex;
            }

            .has-submenu.expanded .submenu { /* Se si vuole attivare anche al click */
                display: flex;
            }

            .submenu li a {
                padding: 10px 24px; /* Padding maggiore per sottomenu desktop */
                font-size: 1em;
            }

            .submenu li a:hover,
            .submenu li a:focus {
                background: var(--colore-link-sottomenu-hover-bg);
                color: var(--colore-link-sottomenu-hover-text);
                padding-left: 24px; /* Nessuna animazione orizzontale */
            }

            /* Mostra il logo su desktop */
            .logo-container {
                display: block;
                position: absolute;
                top: 80px; /* Posizione del logo */
                left: 40px;
                z-index: 9;
            }

            .logo-container img {
                height: 100px; /* Dimensione logo, se vuoi 100x100px come generato */
                width: 100px; /* Assicura che sia quadrato */
                border-radius: 5px;
                box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);
            }
        }
    </style>
</head>
<body>
    <header class="intestazione-sito">
        <div class="hamburger-menu">
            <button class="hamburger-button" aria-label="Apri menu di navigazione">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <nav class="menu-nav" role="navigation">
            <ul class="menu-links" id="menu-links">
                <li><a href="#benvenuto" id="btn-home" class="active-link">Home</a></li>
                <li class="has-submenu">
                    <button class="submenu-toggle" aria-expanded="false">Filosofia antica</button>
                    <ul class="submenu">
                        <li><a href="#talete" data-section="talete">Talete</a></li>
                        <li><a href="#anassimandro" data-section="anassimandro">Anassimandro</a></li>
                        <li><a href="#anassimene" data-section="anassimene">Anassimene</a></li>
                        </ul>
                </li>
                <li><a href="#medievale" data-section="medievale">Filosofia medievale</a></li>
                <li><a href="#patristica" data-section="patristica">Patristica</a></li>
                <li><a href="#moderna" data-section="moderna">Filosofia moderna</a></li>
                <li><a href="#contemporanea" data-section="contemporanea">Filosofia contemporanea</a></li>
                <li><a href="#contatti" data-section="contatti">Contatti</a></li>
                <li><a href="#mappa" data-section="mappa">Mappa del sito</a></li>
            </ul>
        </nav>

        <div class="logo-container">
            <img src="Logo2a.png" alt="Logo del sito Echi di Sofia" />
        </div>

        <div class="overlay">
            <div class="contenuto">
                <h1 class="titolo-sito">Echi di Sofia</h1>
                <p class="sottotitolo">L'infinito dialogo tra l'anima e l'universo.</p>
            </div>
        </div>
    </header>

    <main class="sezione-contenuto">
        <section id="benvenuto" class="active">
            <h2>Benvenuto</h2>
            <p>
                "Echi di Sofia" è un luogo d'incontro tra pensiero e ascolto, tra la voce dei grandi filosofi e le domande di chi cerca.<br>
                Qui si rincorrono idee, secoli e visioni.<br>
                La filosofia non è solo sapere, ma esperienza di vita, dialogo interiore, scoperta del senso.
            </p>
        </section>

        <section id="talete">
            <h2>Talete</h2>
            <p>Contenuto su Talete...</p>
        </section>

        <section id="anassimandro">
            <h2>Anassimandro</h2>
            <p>Contenuto su Anassimandro...</p>
        </section>

        <section id="anassimene">
            <h2>Anassimene</h2>
            <p>Contenuto su Anassimene...</p>
        </section>

        <section id="medievale">
            <h2>Filosofia medievale</h2>
            <p>Contenuto sulla filosofia medievale...</p>
        </section>

        <section id="patristica">
            <h2>Patristica</h2>
            <p>Contenuto sulla Patristica...</p>
        </section>

        <section id="moderna">
            <h2>Filosofia moderna</h2>
            <p>Contenuto sulla filosofia moderna...</p>
        </section>

        <section id="contemporanea">
            <h2>Filosofia contemporanea</h2>
            <p>Contenuto sulla filosofia contemporanea...</p>
        </section>

        <section id="contatti">
            <h2>Contatti</h2>
            <p>Informazioni per contattarci...</p>
        </section>

        <section id="mappa">
            <h2>Mappa del sito</h2>
            <p>Qui puoi trovare la mappa completa del sito...</p>
        </section>
    </main>

    <footer class="footer-sito">
        <p>&copy; 2025 Echi di Sofia. Tutti i diritti riservati.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hamburgerButton = document.querySelector('.hamburger-button');
            const menuNav = document.querySelector('.menu-nav');
            const menuLinks = document.querySelectorAll('.menu-nav a[data-section], #btn-home');
            const submenuToggles = document.querySelectorAll('.submenu-toggle');
            const mainSections = document.querySelectorAll('main section');

            // --- Gestione Menu Hamburger (Mobile) ---
            hamburgerButton.addEventListener('click', () => {
                menuNav.classList.toggle('active');
                // Aggiorna l'attributo aria-expanded per l'accessibilità
                const isExpanded = menuNav.classList.contains('active');
                hamburgerButton.setAttribute('aria-expanded', isExpanded);
            });

            // Chiudi il menu se si clicca fuori dall'area del menu (solo su mobile)
            document.addEventListener('click', (event) => {
                if (window.innerWidth < 768 && menuNav.classList.contains('active')) {
                    const isClickInsideMenu = menuNav.contains(event.target);
                    const isClickOnHamburger = hamburgerButton.contains(event.target);
                    if (!isClickInsideMenu && !isClickOnHamburger) {
                        menuNav.classList.remove('active');
                        hamburgerButton.setAttribute('aria-expanded', 'false');
                    }
                }
            });

            // Impedisci la chiusura del menu cliccando all'interno (solo su mobile)
            menuNav.addEventListener('click', (event) => {
                if (window.innerWidth < 768) {
                    event.stopPropagation();
                }
            });

            // --- Gestione Sottomenu ---
            submenuToggles.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const parentLi = btn.parentElement;
                    const isExpanded = parentLi.classList.toggle('expanded');
                    btn.setAttribute('aria-expanded', isExpanded);
                });
            });

            // --- Gestione Navigazione Sezioni ---
            menuLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();

                    // Rimuovi 'active-link' da tutti i link
                    document.querySelectorAll('.menu-links a').forEach(a => {
                        a.classList.remove('active-link');
                    });

                    // Aggiungi 'active-link' al link cliccato
                    link.classList.add('active-link');

                    // Chiudi tutti i sottomenu aperti
                    document.querySelectorAll('.has-submenu.expanded').forEach(menu => {
                        menu.classList.remove('expanded');
                        menu.querySelector('.submenu-toggle').setAttribute('aria-expanded', 'false');
                    });

                    // Nascondi tutte le sezioni
                    mainSections.forEach(section => {
                        section.classList.remove('active');
                    });

                    // Mostra la sezione selezionata
                    const sectionId = link.getAttribute('data-section') || 'benvenuto'; // Default to benvenuto for home
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                        // Scrolla alla sezione (utile per link interni)
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }

                    // Chiudi il menu hamburger dopo aver cliccato un link (solo su mobile)
                    if (window.innerWidth < 768 && menuNav.classList.contains('active')) {
                        menuNav.classList.remove('active');
                        hamburgerButton.setAttribute('aria-expanded', 'false');
                    }
                });
            });

            // --- Imposta la sezione "benvenuto" come attiva all'avvio ---
            document.getElementById('benvenuto').classList.add('active');
            document.getElementById('btn-home').classList.add('active-link');

            // --- Gestione focus sui sottomenu per tastiera (desktop) ---
            // Quando un elemento del menu ha il focus, mostra il sottomenu relativo
            document.querySelectorAll('.has-submenu').forEach(parentLi => {
                parentLi.addEventListener('focusin', () => {
                    if (window.innerWidth >= 768) { // Solo su desktop
                        parentLi.classList.add('expanded');
                        parentLi.querySelector('.submenu-toggle').setAttribute('aria-expanded', 'true');
                    }
                });
                parentLi.addEventListener('focusout', (e) => {
                    if (window.innerWidth >= 768 && !parentLi.contains(e.relatedTarget)) { // Se il focus esce dal sottomenu
                        parentLi.classList.remove('expanded');
                        parentLi.querySelector('.submenu-toggle').setAttribute('aria-expanded', 'false');
                    }
                });
            });

        });
    </script>
</body>
</html>
