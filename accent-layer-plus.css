/* =========================================================
   Echi di Sofia — Accent Layer PLUS
   Estende 'accent-layer.css' per:
   - Mega menu
   - Slider verticale (filosofi)
   - Banner cookie
   - Player audio
   - Dizionario / Enciclopedia
   - Russell Box (callout)
   Suggerito: includere DOPO accent-layer.css
   ========================================================= */

/* ---------- MEGA MENU ---------- */
.mega-menu{
  --mm-border: color-mix(in oklab, var(--accent) 25%, var(--menu-border) 75%);
  --mm-shadow: 0 20px 40px color-mix(in oklab, var(--accent) 10%, #000 90%);
  border-top: 1px solid var(--mm-border);
}
.mega-menu .trigger:hover,
.mega-menu .trigger[aria-expanded="true"]{
  color: var(--accent);
  text-decoration: none;
}
.mega-menu .panel{
  border: 1px solid var(--mm-border);
  box-shadow: var(--mm-shadow);
}
.mega-menu .col-title{
  color: var(--accent);
  text-shadow: 0 0 12px color-mix(in oklab, var(--accent) 25%, transparent);
}
.mega-menu a.item{
  border-radius: 10px;
  transition: background .15s ease, color .15s ease;
}
.mega-menu a.item:hover{
  background: color-mix(in oklab, var(--accent) 14%, transparent);
  color: color-mix(in oklab, var(--accent) 82%, white 18%);
}
.mega-menu .badge, .mega-menu .pill{
  background: color-mix(in oklab, var(--accent) 55%, transparent);
  border-color: color-mix(in oklab, var(--accent) 55%, transparent);
  color: var(--accent-contrast);
}

/* ---------- SLIDER VERTICALE (filosofi) ---------- */
.vertical-slider, .v-slider, .philosopher-slider{
  border: 1px solid color-mix(in oklab, var(--accent) 20%, var(--menu-border) 80%);
  box-shadow: 0 10px 30px color-mix(in oklab, var(--accent) 10%, transparent);
  border-radius: 14px;
}
.slider-controls, .v-slider-controls{
  display: flex; gap: .5rem; align-items: center;
}
.slider-controls .btn, .v-slider-controls .btn,
.slider-controls .btn-ghost, .v-slider-controls .btn-ghost{
  border-color: color-mix(in oklab, var(--accent) 45%, transparent);
}
.slider-controls .btn:hover, .v-slider-controls .btn:hover{
  filter: brightness(1.06);
}
/* velocità (range) segue già il layer base, ma rinforziamo track */
.slider-controls input[type=range], .v-slider-controls input[type=range]{
  accent-color: var(--accent);
}
.slider-caption, .v-slider .caption{
  color: var(--accent-5);
  text-shadow: 0 0 12px color-mix(in oklab, var(--accent) 25%, transparent);
}

/* ---------- BANNER COOKIE ---------- */
.cookie-banner{
  border: 1px solid color-mix(in oklab, var(--accent) 25%, var(--menu-border) 75%);
  box-shadow: 0 12px 30px color-mix(in oklab, var(--accent) 10%, #000 90%);
  border-radius: 14px;
}
.cookie-banner .btn-accept{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color: var(--accent-contrast);
  border-color: color-mix(in oklab, var(--accent) 50%, transparent);
}
.cookie-banner .btn-manage,
.cookie-banner .btn-reject{
  border:1px dashed color-mix(in oklab, var(--accent) 65%, #ffffff22 35%);
  background: color-mix(in oklab, var(--accent) 14%, transparent);
  color: var(--text-light);
}
.cookie-banner .btn-manage:hover,
.cookie-banner .btn-reject:hover{ border-style: solid; filter: var(--accent-glow); }
.cookie-banner .link{ color: color-mix(in oklab, var(--accent) 82%, white 18%); text-decoration-color: var(--accent-3); }

/* ---------- AUDIO PLAYER ---------- */
.audio-player{
  border: 1px solid color-mix(in oklab, var(--accent) 25%, var(--menu-border) 75%);
  background: linear-gradient(180deg, rgba(10,10,26,.85), rgba(10,10,26,.65));
  box-shadow: 0 10px 24px color-mix(in oklab, var(--accent) 12%, transparent);
  color: var(--text-light);
  border-radius: 12px;
}
.audio-title{ color: color-mix(in oklab, var(--accent) 85%, white 15%); }
.audio-player .controls button{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color: var(--accent-contrast);
  border: 1px solid color-mix(in oklab, var(--accent) 45%, transparent);
  border-radius: 10px;
  padding: .3rem .6rem;
}
.audio-player .controls button:hover{ filter: brightness(1.06); }
.audio-player #volume{ width: 120px; }
.audio-player #volume::-webkit-slider-runnable-track{
  height: 4px; border-radius: 999px;
  background: linear-gradient(90deg, var(--accent-3), var(--accent));
}
.audio-player #volume::-webkit-slider-thumb{
  -webkit-appearance: none; appearance: none;
  width: 14px; height: 14px; border-radius: 50%;
  background: var(--accent); border: 2px solid var(--accent-2);
  margin-top: -5px;
}

/* ---------- DIZIONARIO ---------- */
.dictionary, .dictionary-panel, .dictionary-box{
  border: 1px solid color-mix(in oklab, var(--accent) 22%, var(--menu-border) 78%);
  border-radius: 12px;
  box-shadow: 0 10px 24px color-mix(in oklab, var(--accent) 10%, transparent);
}
.dictionary-toggle, .dictionary .toggle{
  border:1px dashed color-mix(in oklab, var(--accent) 60%, #ffffff22 40%);
  background: color-mix(in oklab, var(--accent) 12%, transparent);
  color: var(--text-light);
}
.dictionary a, .dictionary-panel a{ color: color-mix(in oklab, var(--accent) 82%, white 18%); }

/* ---------- ENCICLOPEDIA ---------- */
.encyclopedia-btn{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color: var(--accent-contrast);
  border: 1px solid color-mix(in oklab, var(--accent) 45%, transparent);
  border-radius: 12px; padding: .5rem .8rem;
}
.encyclopedia-btn:hover{ filter: brightness(1.05); }
.encyclopedia-panel{
  border: 1px solid color-mix(in oklab, var(--accent) 22%, var(--menu-border) 78%);
  border-radius: 12px;
  box-shadow: 0 10px 24px color-mix(in oklab, var(--accent) 10%, transparent);
}

/* ---------- RUSSELL BOX (callout) ---------- */
.russell-box{
  position: relative;
  border: 1px solid color-mix(in oklab, var(--accent) 35%, var(--menu-border) 65%);
  border-radius: 16px;
  padding: 16px 18px;
  background: radial-gradient(600px 300px at -10% -10%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 60%);
  box-shadow: 0 12px 34px color-mix(in oklab, var(--accent) 10%, transparent);
}
.russell-box::before{
  content:""; position:absolute; inset: -1px;
  border-radius: 16px;
  pointer-events:none;
  mask: linear-gradient(#000 0 0);
  box-shadow: inset 0 0 40px color-mix(in oklab, var(--accent) 15%, transparent);
}
.russell-box .title{
  display:flex; align-items:center; gap:.5rem;
  color: color-mix(in oklab, var(--accent) 85%, white 15%);
  text-shadow: 0 0 12px color-mix(in oklab, var(--accent) 25%, transparent);
  font-weight: 700;
}
.russell-box .quote{
  margin-top: .4rem; color: var(--text-light);
  border-left: 3px solid var(--accent);
  padding-left: .6rem;
}
.russell-box .ref{
  margin-top: .4rem; font-size: .92rem; color: color-mix(in oklab, var(--accent) 70%, white 30%);
}

/* ---------- SMALL UTILITIES for these blocks ---------- */
.box-accent{ border:1px solid color-mix(in oklab, var(--accent) 22%, var(--menu-border) 78%); border-radius: 12px; }
.bg-accent-soft{ background: color-mix(in oklab, var(--accent) 10%, transparent); }
.text-accent-strong{ color: color-mix(in oklab, var(--accent) 90%, white 10%); }
